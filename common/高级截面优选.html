<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>&#19968;&#12289;&#21069;&#35328; | GAMA&#21345;&#29255;&#25216;&#26415;&#25991;&#26723; </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="&#19968;&#12289;&#21069;&#35328; | GAMA&#21345;&#29255;&#25216;&#26415;&#25991;&#26723; ">
    <meta name="generator" content="docfx 2.59.0.0">
    
    <link rel="shortcut icon" href="../../Favicon/favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h2 id="一前言">一、前言</h2>

<p>为了协助工程师们提高效率和工作质量，以更快速、更出色地完成任务，盈建科推出了&quot;Y-GAMA&quot;的数智模块。软件经过两年的不断改进，通过与众多设计师的交流和自身的不断升级，在广泛使用的指标优化和截面优选方面，不断改进易用性和界面的直观性，以帮助设计师更加轻松的自动化和智能化地完成日常反复的任务，从而减少了设计师的重复工作，提高了工作效率和质量。相信很多设计师，即使是GAMA软件的新手，在经过一些摸索，或看过帮助文档之后，也能轻松掌握这两大基础功能的操作。</p>
<p>不过很多用户在使用界面版的截面优选时可能也会发现，关掉界面后在GAMA的画布上依然会自动生成卡片版的截面优选，对自动生成的卡片版截面优选或指标优选，除了可以根据提示，重新回到界面中进行调整，还可以通过增删卡片的方式，调整优化的细节。除了根据自动生成的卡片进行修改，GAMA本身还直接提供了一套直接使用卡片版进行截面优选和指标优化的模板。这是因为虽然界面版的截面优选方便好上手，但对于实际工程中的复杂项目，构件数量较多，反复的微调也很多，使用界面版时虽然一步步操作也可以完成，但效率可能就没那么高了。这个模板，也就是数智设计中的高级截面优选和高级指标调整功能。</p>
<p><img src="../file/%E9%AB%98%E7%BA%A7%E6%88%AA%E9%9D%A2%E4%BC%98%E9%80%89.assets/image-20231106113402016.png" alt="image-20231106113402016"></p>
<h2 id="二截面优选操作介绍">二、截面优选操作介绍</h2>
<p><img src="../file/%E9%AB%98%E7%BA%A7%E6%88%AA%E9%9D%A2%E4%BC%98%E9%80%89.assets/image-20231106115123699.png" alt="image-20231106115123699"></p>
<p>打开后的卡片里按操作顺序将卡片分成了四部分，虽然卡片版与界面版在形式上看起来差异比较大，但其实优化思路和步骤其实是十分相似的，相信熟悉了界面版截面优选的用户在经过接下来对卡片版的操作介绍后，应该能够很快上手，制作自己工程的定制化卡片。</p>
<p>如果用户想尽快上手，进行操作，可以遵循从左到右，从上到下，按编号一步步操作的顺序。其中有背景颜色的卡组为默认预设的卡片，新手无需修改，仅需对卡组外的参数卡片进行修改设置，每一步操作中，卡片中均有简易说明，可依照进行使用。如需详细了解，可以阅读接下来的本篇文章进行进一步的了解。</p>
<h3 id="20-yjk模型构件分组">2.0 YJK模型构件分组</h3>
<p>在使用卡片之前，我们首先要在YJK模型中对构件进行分组，这也是卡片版能在构件不断改变时不断复用的关键原因：重复利用分组。在YJK中设置的构件分组，在之后被GAMA读取后，就可以作为截面优选中的分组。即使模型修改，也只需要在YJK中的分组里增加或减少构件就能继续使用。不同的分组可以设置不同的优化参数，相同分组内的构件可以设置为优化过程中保持相同的截面，或仅仅只是配筋率要求相同等。用户可以根据自己的需要先在YJK中进行分组。</p>
<p><img src="../file/%E9%AB%98%E7%BA%A7%E6%88%AA%E9%9D%A2%E4%BC%98%E9%80%89.assets/%E5%88%86%E7%BB%84-1699258984298-2.gif" alt="分组"></p>
<p>我们在这个示例中将梁柱墙分别按X、Y方向简单进行分组，当然用户也可以按照自己的习惯或实际工程的需要进行分组。值得注意的是，例子中的分组都是所有层的构件放在一个分组内的。这不是因为例子而做的简化。而是因为高级截面优选卡片中可以自动将不同层构件再进行分组。这样，对于标准层较多，而结构布置比较相似的结构，只需要将每层相同位置的构件很方便地选入同一组，就可以完成一个比较大的结构中实际上几十个的分组了。</p>
<h3 id="21--读取yjk模型">2.1  读取YJK模型</h3>
<p>YJK中进行分组后，需要将数据导入GAMA中。这一步只需要双击读取YJK模型卡片的红色部分，就可以将构件数据以及分组数据读入GAMA中了。</p>
<p><img src="../file/%E9%AB%98%E7%BA%A7%E6%88%AA%E9%9D%A2%E4%BC%98%E9%80%89.assets/image-20231106175920956.png" alt="image-20231106175920956"></p>
<h3 id="22--获取分组构件">2.2  获取分组构件</h3>
<p>第二步中，卡片是要用YJK中获取的分组根据名称和标准层分别获取构件。这里所需使用的卡片已经被打包成为“获取分组构件”和“将分组构件分段”两个卡片包。用户在使用时只需更改几个白板中的文字，以适应YJK分组中的分组名以及对分组进一步根据标准层进行分组。</p>
<p>以框梁分组为例，对于不同方向的框梁，虽然因为组内截面需要保持一致，所以将不同方向的框梁分为了不同的分组，但这些分组的其他优化参数都是相同的，所以在这里的文字白板中输入KL，就可以同时获得KLT,KLX,KLY三个分组内的构件。如果用户对GAMA的“数据结构”有所了解，可以看到卡片包的“分组构件”出口中的构件数据是在不同的列表中分别输出的。</p>
<p><img src="../file/%E9%AB%98%E7%BA%A7%E6%88%AA%E9%9D%A2%E4%BC%98%E9%80%89.assets/image-20231106184251541.png" alt="image-20231106184251541"></p>
<p>同一个分组内的构件，根据标准层可以进一步进行分组。依然是以框梁分组进行举例。假设这个模型中有六个标准层，分组构件分布在这六个标准层中，我们只需要按照卡片中的说明，将标准层进行分组，即可获得新的分组和分组构件。对于例子中的3111分组，因为在构件选择时框梁没有选择前三标准层中的构件，所以分组后每个分组在456标准层上再被分了三组。</p>
<p><img src="../file/%E9%AB%98%E7%BA%A7%E6%88%AA%E9%9D%A2%E4%BC%98%E9%80%89.assets/image-20231107112703027.png" alt="image-20231107112703027"></p>
<h3 id="23--参数设置">2.3  参数设置</h3>
<p>将分组构件接入截面优化变量后，就可以对优化分组进行参数设置了。卡片的参数与界面版的参数设置大部分都比较相似，这里就不详细展开了。不过对于截面库的设置，除了使用卡片中本身默认的，使用白板输入一些简单的截面，还有很多样的方式来设置截面库。</p>
<p>比如双击画布搜素批量生成框架截面卡片，就可以双击本卡片，在弹出的界面中像界面版截面优选一样批量生成备选截面。或者使用等差数列等其他卡片配合，如果有一定代码基础，使用C#代码编译器卡片，在卡片中完全可以更加方便和个性化的定制每一个优化分组的截面库。</p>
<p><img src="../file/%E9%AB%98%E7%BA%A7%E6%88%AA%E9%9D%A2%E4%BC%98%E9%80%89.assets/image-20231107141342142.png" alt="image-20231107141342142"></p>
<h3 id="23--计算设置与截面优选启动">2.3  计算设置与截面优选启动</h3>
<p>对于开始截面优选之前的准备工作，我们只剩下最后的一些优选过程中的计算设置需要做。</p>
<p>对于截面优化问题定义，各种材料的单价均有默认的数值。如果需要修改，可以在文字白板卡片中输入数值并连接至对应入口。</p>
<p>同时，在本卡片中还可以选择是否使用截面优选的多线程同时计算。当选择多线程时，并行数越多，截面优选进行的速度也就越快，但对电脑的要求也就越高，可能会造成其他软件的卡顿。所以GAMA提供了多线程的控制入口，用户可以根据模型大小和电脑情况，按需选择并行数量。</p>
<p><img src="../file/%E9%AB%98%E7%BA%A7%E6%88%AA%E9%9D%A2%E4%BC%98%E9%80%89.assets/image-20231107143355411.png" alt="image-20231107143355411"></p>
<p>对YJK模型的计算设置同样会影响计算的速度与计算获得的结果。当计算模式选择计算设计时，计算速度比统计工程量时快，但如果想在计算过程中记录混凝土用量等类似信息，就必须将计算模式调整为计算设计工程量。对于施工图，楼板配筋，组合梁等选项，用户可根据自身需要决定是否生成或计算。</p>
<p><img src="../file/%E9%AB%98%E7%BA%A7%E6%88%AA%E9%9D%A2%E4%BC%98%E9%80%89.assets/image-20231108101138776.png" alt="image-20231108101138776"></p>
<h3 id="24--指标记录">2.4  指标记录</h3>
<p>不同于指标调整中，需要选择优化时的指标约束和目标，截面优选除了遵循设置的配筋率等约束，以成本或配筋率、应力度作为目标，对结构整体指标并没有作为调整的依据。所以卡片中连接结构指标卡片后，截面优选优化器连接的仅仅是记录项，作为对指标的记录。</p>
<p>用户可以将“记录”连接结构指标卡片输出的指标结果，如需记录多个指标，可按住shift键进行连接。</p>
<h2 id="三指标调整操作介绍">三、指标调整操作介绍</h2>
<p>指标调整通用卡片组同样将操作步骤分为了六步。用户使用时可以按编号顺序一步步进行操作。然卡片版与界面版在形式上看起来差异比较大，但其实优化思路和步骤其实是十分相似的，相信熟悉了界面版截面优选的用户在经过接下来对卡片版的操作介绍后，应该能够很快上手，制作自己工程的定制化卡片。</p>
<p><img src="../file/%E9%AB%98%E7%BA%A7%E6%88%AA%E9%9D%A2%E4%BC%98%E9%80%89.assets/image-20231110101951534.png" alt="image-20231110101951534"></p>
<h3 id="30-yjk模型构件分组">3.0 YJK模型构件分组</h3>
<p>之所以将指标调整的介绍放在截面优选之后，是因为指标调整功能并不是一个可以无脑自动调整整个结构的功能。而是需要选取对调整的指标敏感的构件作为构件组进行调整。所以建议如果需要对模型进行指标调整，可以先对模型进行截面优选或手动调整，再使用算法对模型指标进行调整。</p>
<h2 id="image-20231109174622594"><img src="../file/%E9%AB%98%E7%BA%A7%E6%88%AA%E9%9D%A2%E4%BC%98%E9%80%89.assets/image-20231109174622594.png" alt="image-20231109174622594"></h2>
<p>指标调整前，同样需要对模型构件进行分组。这里的操作和截面优选相同，在YJK中进行。不过指标调整的分组不像截面优选中，可以选择大量的构件一同进行优化。指标调整的分组，其实就是算法优化中的一个变量，分组中的构件截面都是相同的，在优化过程中一起被调整。所以指标调整的分组不宜过多，过多则计算时间长。使用时可以依据工程经验，尽量选取对需要调整的指标敏感的构件，作为分组，并进行优化。</p>
<h3 id="31--读取yjk模型">3.1  读取YJK模型</h3>
<p>YJK中进行分组后，需要将数据导入GAMA中。这一步只需要双击读取YJK模型卡片的红色部分，就可以将构件数据以及分组数据读入GAMA中了。</p>
<p><img src="../file/%E9%AB%98%E7%BA%A7%E6%88%AA%E9%9D%A2%E4%BC%98%E9%80%89.assets/image-20231106175920956.png" alt="image-20231106175920956"></p>
<h3 id="32--获取分组构件">3.2  获取分组构件</h3>
<p>第二步中，卡片是要用YJK中获取的分组根据名称和标准层分别获取构件。这里所需使用的卡片已经被打包成为“获取分组构件”和“将分组构件分段”两个卡片包。用户在使用时只需更改几个白板中的文字，以适应YJK分组中的分组名以及对分组进一步根据标准层进行分组。</p>
<p>以框梁分组为例，对于不同方向的框梁，虽然因为组内截面需要保持一致，所以将不同方向的框梁分为了不同的分组，但这些分组的其他优化参数都是相同的，所以在这里的文字白板中输入KL，就可以同时获得KLT,KLX,KLY三个分组内的构件。如果用户对GAMA的“数据结构”有所了解，可以看到卡片包的“分组构件”出口中的构件数据是在不同的列表中分别输出的。</p>
<p>同一个分组内的构件，根据标准层可以进一步进行分组。依然是以框梁分组进行举例。假设这个模型中有六个标准层，分组构件分布在这六个标准层中，我们只需要按照卡片中的说明，将标准层进行分组，即可获得新的分组和分组构件。对于例子中的3111分组，因为在构件选择时框梁没有选择前三标准层中的构件，所以分组后每个分组在456标准层上再被分了三组。</p>
<p>指标调整中还新增了获取特定分段内构件卡片包，方便用户在截面优选和指标调整中使用同一套分组的同时，方便地选取所需的构件分组，减少指标调整时的变量数量。如图中所示，如仅需获取分段后，第1-3段分组中的构件，仅需在文字白板中输入1-3即可。这样将会获取到4、5、6标准层的构件，因为在前面的卡片中我们的标准层被分为了1-3、4、5、6标准层这样的四组。值得注意的是，此处的分段均由0开始计数。</p>
<p><img src="../file/%E9%AB%98%E7%BA%A7%E6%88%AA%E9%9D%A2%E4%BC%98%E9%80%89.assets/image-20231110105630278.png" alt="image-20231110105630278"></p>
<h3 id="33--设置候选截面">3.3  设置候选截面</h3>
<p>候选截面默认使用的是文字白板进行输入，不过在指标调整中需要额外注意，截面库中的截面需要尽量保证有一定规律，从小到大或者从大到小，让算法能够尽快的找到更优解，提高计算效率。</p>
<p>除了文字白板，还有许多卡片的候选截面输入方式。比如双击画布搜素批量生成框架截面卡片，就可以双击本卡片，在弹出的界面中像界面版截面优选一样批量生成备选截面。或者使用等差数列等其他卡片配合，如果有一定代码基础，使用C#代码编译器卡片，在卡片中完全可以更加方便和个性化的定制每一个优化分组的截面库。</p>
<p><img src="../file/%E9%AB%98%E7%BA%A7%E6%88%AA%E9%9D%A2%E4%BC%98%E9%80%89.assets/image-20231110114341466.png" alt="image-20231110114341466"></p>
<p>除了输入每个变量的候选截面库，这一步中还要使用数字滑动条与上一步中划分的分组构件匹配。之前说过，指标调整中每组构件都是算法优化中的一个变量，这里的数字滑动条，就是将构件截面与数字变量联系起来的一个卡片。数字滑动条的数字，代表的就是组内截面对应在截面库中的序号。所以此处三个数字滑动条仅仅是举例，实际使用时需根据分组数增删数字滑动条。</p>
<p>此处还需要注意，截面库这里可以设置一个较大的截面库，同时在不同的数字滑动条里双击后设置不同的上下限和数字变化间隔，从而达到每组构件设置不同截面库的效果。</p>
<h3 id="34--计算设置">3.4  计算设置</h3>
<p>对YJK模型的计算设置同样会影响计算的速度与计算获得的结果。当计算模式选择计算设计时，计算速度比统计工程量时快，但如果想在计算过程中设置混凝土用量等类似信息为约束或目标，就必须将计算模式调整为计算设计工程量。对于施工图，楼板配筋，组合梁等选项，用户可根据自身需要决定是否生成或计算。</p>
<p><img src="../file/%E9%AB%98%E7%BA%A7%E6%88%AA%E9%9D%A2%E4%BC%98%E9%80%89.assets/image-20231108101138776.png" alt="image-20231108101138776"></p>
<h3 id="35--约束与目标设置">3.5  约束与目标设置</h3>
<p>智能算法在进行模型评价时，会倾向于选择所有约束都满足的模型，正确地选择约束可以让算法帮设计师朋友们快速排除不符合需求的模型。**因此，过于严格的约束可能导致算法始终找不到符合要求的模型。**具体到卡片中，我们可以结合结构指标等结果卡片与“设置优化问题约束”卡片，对优化中的约束进行设置。</p>
<p>由于出现多个满足所有约束的模型时，算法将挑选“目标”更优秀的模型为最佳模型，并且使用其参数来规划下一次模型的生成参数。</p>
<p>所以，目标可以说是结构优化的总纲领；而约束是满足即可。</p>
<p>与约束不同的是，目标无需进行详细的约束行为设置（大于小于），默认尽量往小了调。</p>
<p>需要注意，Y-GAMA内置的智能算法均支持设置多个目标。但目标数量过多（3个及以上）会<strong>极大程度</strong>上地增加计算复杂度，也会降低智能算法的评价函数效率。除非必要，尽量设置较少数量的目标（2个及以下），将其余需要控制的指标值设置成为约束。</p>
<p><img src="../file/%E9%AB%98%E7%BA%A7%E6%88%AA%E9%9D%A2%E4%BC%98%E9%80%89.assets/image-20231110153108612.png" alt="image-20231110153108612"></p>
<h3 id="36--完成连线并启动优化">3.6  完成连线并启动优化</h3>
<p>将优化问题中的连线类似案例中一样连接对应卡片后，就可以双击优化器选择合适的算法进行算法优化了。</p>
<p><img src="../file/%E9%AB%98%E7%BA%A7%E6%88%AA%E9%9D%A2%E4%BC%98%E9%80%89.assets/image-20231110171410892.png" alt="image-20231110171410892"></p>
<h2 id="四总结">四、总结</h2>
<p>界面版截面优选与指标调整一经上线，就因其直观性和便捷性受到广大设计师的欢迎和使用。不过即使如此，很多老用户依然期望出一个卡片版的截面优选与指标调整流程，只因大部分项目都不是能一步到位就完成模型调试的，一旦模型修改，再进行界面版的一系列操作，总还是需要一定时间的。而使用卡片版，在针对项目搭建好流程和卡片后，不论修改多少次，用户所需要进行的操作都微乎其微了。对于一些复杂的工程，很多工程师都提出了很多复杂的需求，而这也需要卡片才能更方便的去解决。</p>
<p><img src="../file/%E9%AB%98%E7%BA%A7%E6%88%AA%E9%9D%A2%E4%BC%98%E9%80%89.assets/image-20231110175434191.png" alt="image-20231110175434191"></p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            Copyright (c) 上海非解构数字科技有限公司
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
